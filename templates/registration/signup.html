{% extends "base.html" %}
{% block content %}

<style>
  body {
    background-color: #f4ebd9 !important;
  }
</style>
<div class="min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8" style="background-color: #f4ebd9;">
  <div class="max-w-md w-full space-y-8">
    <!-- Header -->
    <div class="text-center">
      <div class="mx-auto h-48 w-48 flex items-center justify-center mb-8">
        {% load static %}
        <img src="{% static 'img/oishii-logo.png' %}" alt="oishii logo" class="h-44 w-44 object-contain">
      </div>
      <h1 class="text-4xl font-black text-gray-900 mb-2" style="font-family: 'Acid Grotesk', 'Acid Grotesque', 'Helvetica Neue', sans-serif; letter-spacing: 0.1em;">oishii</h1>
      <p class="text-lg text-gray-600 font-medium">Create your account</p>
      <p class="text-sm text-gray-500 mt-1">Join oishii and start discovering amazing places</p>
    </div>

    <!-- Signup Form -->
    <div class="bg-white rounded-2xl border border-gray-200 shadow-lg p-8">
  <form method="post" novalidate>
    {% csrf_token %}

    {# ---- Username ---- #}
    <div class="mb-4">
      <label for="{{ form.username.id_for_label }}" class="block text-sm font-semibold text-gray-900 mb-2">
        Username
      </label>
      {{ form.username }}
      <script>
        (function() {
          const el = document.getElementById("{{ form.username.id_for_label }}");
          if (el) {
            el.className = "w-full rounded-xl border border-gray-300 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-gray-900 transition-all duration-200 text-base";
            el.placeholder = "Choose a username";
          }
        })();
      </script>
      {% if form.username.help_text %}
        <p class="mt-1 text-xs text-gray-500">{{ form.username.help_text }}</p>
      {% endif %}
      {% if form.username.errors %}
        <p class="mt-1 text-sm text-red-600">{{ form.username.errors|join:", " }}</p>
      {% endif %}
    </div>

    {# ---- Password ---- #}
    <div class="mb-4">
      <label for="{{ form.password1.id_for_label }}" class="block text-sm font-medium text-gray-900 mb-1">
        Password
      </label>

      <div class="flex items-stretch gap-2">
        {{ form.password1 }}
        <script>
          (function() {
            const el = document.getElementById("{{ form.password1.id_for_label }}");
            if (el) {
            el.className = "w-full rounded-xl border border-gray-300 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-gray-900 transition-all duration-200 text-base";
            el.placeholder = "Choose a username";
          }
          })();
        </script>

        <button type="button"
                onclick="const p=document.getElementById('{{ form.password1.id_for_label }}'); p.type = (p.type==='password'?'text':'password'); this.textContent = p.type==='password'?'Show':'Hide';"
                class="shrink-0 px-3 rounded-xl border border-gray-300 text-xs text-gray-700 bg-white hover:bg-gray-50">
          Show
        </button>
      </div>

      {% if form.password1.help_text %}
        <div class="mt-2 text-xs text-gray-600 leading-5 space-y-1">
          {{ form.password1.help_text|safe }}
        </div>
      {% endif %}
      {% if form.password1.errors %}
        <p class="mt-1 text-sm text-red-600">{{ form.password1.errors|join:", " }}</p>
      {% endif %}
    </div>

    {# ---- Password confirmation ---- #}
    <div class="mb-5">
      <label for="{{ form.password2.id_for_label }}" class="block text-sm font-medium text-gray-900 mb-1">
        Password confirmation
      </label>

      <div class="flex items-stretch gap-2">
        {{ form.password2 }}
        <script>
          (function() {
            const el = document.getElementById("{{ form.password2.id_for_label }}");
            if (el) {
            el.className = "w-full rounded-xl border border-gray-300 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-gray-900 transition-all duration-200 text-base";
            el.placeholder = "Choose a username";
          }
          })();
        </script>

        <button type="button"
                onclick="const p=document.getElementById('{{ form.password2.id_for_label }}'); p.type = (p.type==='password'?'text':'password'); this.textContent = p.type==='password'?'Show':'Hide';"
                class="shrink-0 px-3 rounded-xl border border-gray-300 text-xs text-gray-700 bg-white hover:bg-gray-50">
          Show
        </button>
      </div>

      {% if form.password2.help_text %}
        <p class="mt-1 text-xs text-gray-500">{{ form.password2.help_text }}</p>
      {% endif %}
      {% if form.password2.errors %}
        <p class="mt-1 text-sm text-red-600">{{ form.password2.errors|join:", " }}</p>
      {% endif %}
    </div>

      <button type="submit" class="w-full flex justify-center py-3 px-6 border border-transparent rounded-xl shadow-sm text-base font-semibold text-white bg-gray-900 hover:bg-black focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-900 transition-all duration-200">
        Create account
      </button>
    </form>
  </div>

  <!-- Login Link -->
  <div class="text-center">
    <p class="text-sm text-gray-600 font-medium">
      Already have an account?
      <a href="{% url 'login' %}" class="font-semibold text-gray-900 hover:text-black transition-colors">
        Sign in
      </a>
    </p>
  </div>
</div>
</div>

{% endblock %}

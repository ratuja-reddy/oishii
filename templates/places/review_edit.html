{% extends "base.html" %}
{% block content %}
<h1 class="text-2xl font-bold mb-2">Edit Review: {{ restaurant.name }}</h1>

<form method="post" class="space-y-3 bg-white rounded-xl p-4 shadow">
  {% csrf_token %}

  <div class="opacity-70">
    <label class="block text-sm font-medium">Restaurant</label>
    {{ form.restaurant }}
    <p class="text-xs text-gray-500 mt-1">Cannot be changed</p>
    <!-- Hidden field to preserve restaurant value on form submission -->
    <input type="hidden" name="restaurant" value="{{ restaurant.id }}">
  </div>

  <div>
    <label class="block text-sm font-medium">Overall rating (1â€“5)</label>
    {{ form.overall_rating }}
  </div>

  <div class="grid grid-cols-2 gap-3">
    <div>
      <label class="block text-sm">Food (optional)</label>
      {{ form.food }}
    </div>
    <div>
      <label class="block text-sm">Service (optional)</label>
      {{ form.service }}
    </div>
    <div>
      <label class="block text-sm">Value (optional)</label>
      {{ form.value }}
    </div>
    <div>
      <label class="block text-sm">Atmosphere (optional)</label>
      {{ form.atmosphere }}
    </div>
  </div>

  <div>
    <label class="block text-sm font-medium">Your review (optional)</label>
    {{ form.text }}
  </div>

  <div class="flex gap-2">
    <button class="px-4 py-2 rounded-xl bg-gray-900 text-white">Update review</button>
    <a class="px-4 py-2 rounded-xl border border-gray-300 bg-white text-gray-800 hover:bg-gray-50" href="{% url 'feed' %}">Cancel</a>
  </div>
</form>
{% endblock %}
